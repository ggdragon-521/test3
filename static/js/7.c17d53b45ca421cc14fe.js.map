{"version":3,"sources":["webpack:///static/js/7.c17d53b45ca421cc14fe.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/_core-js@2.5.1@core-js/library/fn/json/stringify.js","webpack:///./src/pages/goods/search.vue?3c2a","webpack:///./src/pages/goods/search.vue","webpack:///src/pages/goods/search.vue","webpack:///./src/pages/goods/search.vue?1a9e","webpack:///./src/pages/goods/search.vue?af36"],"names":["webpackJsonp","3cXf","module","exports","__webpack_require__","default","__esModule","I4CF","core","$JSON","JSON","stringify","it","apply","arguments","XK/F","content","i","locals","qyBY","__webpack_exports__","injectStyle","ssrContext","Object","defineProperty","value","stringify_default","n","search","name","data","searchKey","responseList","hotSearch","history","lastGo","linkContent","mounted","this","storageTest","window","localStorage","storage","object","getItem","setItem","getHistory","getHotList","getTextSearch","watch","getResponseData","methods","removeItem","e","oThis","$","ajax","type","url","dataType","success","message","list","keyWord","clearSearch","hotList","go","dom","target","innerText","trim","$route","push","path","query","keyword","setHistory","$router","go1","strKey","nowtime","Date","getTime","obj","parse","length","arr","newObj","x","sort","a","b","q","removeHistory","throttle","method","context","clearTimeout","tId","setTimeout","call","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","href","_v","directives","rawName","expression","placeholder","domProps","on","input","$event","composing","click","_l","track-by","innerHTML","_s","_e","staticRenderFns","esExports","goods_search","normalizeComponent","__vue_styles__","Component","totX","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/7.c17d53b45ca421cc14fe.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ \"3cXf\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"I4CF\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"I4CF\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(\"0nnt\");\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ }),\n\n/***/ \"XK/F\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"totX\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"8bSs\")(\"3c4318de\", content, true);\n\n/***/ }),\n\n/***/ \"qyBY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\nvar stringify = __webpack_require__(\"3cXf\");\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n\n// EXTERNAL MODULE: ./src/js/common.js\nvar common = __webpack_require__(\"g5qz\");\n\n// EXTERNAL MODULE: ./src/js/zepto.min.js\nvar zepto_min = __webpack_require__(\"UE85\");\n\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.2@babel-loader/lib!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=script&index=0!./src/pages/goods/search.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var search = ({\n    name: 'search',\n    data: function data() {\n        return {\n            searchKey: '', //搜索词\n            responseList: [], //按键感应内容\n            hotSearch: [], //热搜词\n            history: [], //历史记录\n            lastGo: true,\n            linkContent: '' //默认搜索\n        };\n    },\n    mounted: function mounted() {\n        //判断是否是无痕模式\n        if (this.storageTest(window.localStorage)) {\n            var storage = window.localStorage;\n            var object = new Object();\n            if (storage.getItem('nisu') == '{}') {\n                storage.setItem('nisu', stringify_default()(object));\n            }\n            this.getHistory();\n        }\n        this.getHotList();\n        this.getTextSearch();\n    },\n\n    //监听搜索词变化\n    watch: {\n        searchKey: function searchKey() {\n            this.getResponseData();\n        }\n    },\n    methods: {\n        storageTest: function storageTest(storage) {\n            if (!!storage) {\n                try {\n                    storage.setItem('key', 'value');\n                    storage.removeItem('key');\n                    return true;\n                } catch (e) {\n                    return false;\n                }\n            } else {\n                return false;\n            }\n        },\n        getTextSearch: function getTextSearch() {\n            var oThis = this;\n            oThis.responseList = [];\n            $.ajax({\n                type: 'post',\n                url: 'https://www.easy-mock.com/mock/5a0bad8922eff44db04955c0/example_1510714761014/getTextSearch',\n                dataType: 'json',\n                success: function success(data) {\n                    if (data.data.message) {\n                        oThis.linkContent = data.data.list[0]['linkContent'];\n                    }\n                }\n            });\n        },\n        getResponseData: function getResponseData() {\n            var oThis = this;\n            if (oThis.lastGo) {\n                oThis.lastGo = false;\n                $.ajax({\n                    type: 'post',\n                    url: '',\n                    data: {\n                        keyWord: oThis.searchKey\n                    },\n                    dataType: 'json',\n                    success: function success(data) {\n                        if (data.data.message) {\n                            oThis.responseList = data.data;\n                        } else {\n                            oThis.responseList = [];\n                        }\n                    }\n                });\n            }\n        },\n        clearSearch: function clearSearch() {\n            this.searchKey = '';\n            this.responseList = [];\n        },\n        getHotList: function getHotList() {\n            var oThis = this;\n            $.ajax({\n                type: 'post',\n                url: 'https://www.easy-mock.com/mock/5a0bad8922eff44db04955c0/example_1510714761014/hotSearch',\n                dataType: 'json',\n                success: function success(data) {\n                    if (data.data.message) {\n                        oThis.hotSearch = data.data.hotList;\n                    }\n                }\n            });\n        },\n        go: function go(e) {\n            var dom = e.target;\n            var oThis = this;\n            oThis.searchKey = dom.innerText;\n            if (this.searchKey.trim() === '') {\n                this.$route.push({ path: 'goodsResult', query: { keyword: this.linkContent } });\n            }\n            if (this.storageTest(window.localStorage)) {\n                this.setHistory(this.searchKey);\n            }\n            oThis.responseList = [];\n            this.$router.push({ path: 'goodsResult', query: { keyword: oThis.searchKey } });\n            oThis.searchKey = '';\n        },\n        go1: function go1() {\n            if (this.searchKey == '') {\n                this.searchKey = this.linkContent;\n            }\n            this.$router.push({ path: 'goodsResult', query: { keyword: this.searchKey } });\n        },\n\n        // 设置历史记录\n        setHistory: function setHistory(strKey) {\n            var nowtime = new Date().getTime(),\n                storage = window.localStorage,\n                obj = JSON.parse(storage.getItem('nisu')); //字符串转对象\n            obj[strKey] = nowtime;\n            storage.setItem('nisu', stringify_default()(obj)); //对象转字符串\n        },\n\n        // 获取历史记录\n        getHistory: function getHistory() {\n            var storage = window.localStorage,\n                length = 10,\n                arr = [],\n                obj = {},\n                newObj = {};\n            this.history = [];\n            obj = JSON.parse(storage.getItem('nisu')); //字符串转对象\n            for (var x in obj) {\n                arr.push(obj[x]);\n            }\n            arr.sort(function (a, b) {\n                return b - a;\n            });\n            arr.length >= 10 ? length = 10 : length = arr.length;\n            for (var i = 0; i < length; i++) {\n                for (var x in obj) {\n                    if (obj[x] === arr[i]) {\n                        this.history.push({ q: x });\n                        newObj[x] = arr[i];\n                    }\n                }\n            }\n            storage.setItem('nisu', stringify_default()(newObj)); //对象转字符串\n        },\n\n        // 清除历史记录\n        removeHistory: function removeHistory() {\n            if (this.storageTest(window.localStorage)) {\n                this.history = [];\n                window.localStorage.removeItem('nisu');\n                var storage = window.localStorage,\n                    obj = new Object();\n                storage.setItem('nisu', stringify_default()(obj)); //对象转字符串\n            }\n        },\n        throttle: function throttle(method, context) {\n            clearTimeout(method.tId);\n            method.tId = setTimeout(function () {\n                method.call(context);\n            }, 100);\n        }\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-3c019f2a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/goods/search.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-wrap\"},[_c('div',{staticClass:\"search-main\"},[_c('a',{staticClass:\"header-back\",attrs:{\"href\":\"javascript:history.back();\"}}),_vm._v(\" \"),_c('div',{staticClass:\"search-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchKey),expression:\"searchKey\"}],staticClass:\"search\",attrs:{\"type\":\"text\",\"placeholder\":_vm.linkContent},domProps:{\"value\":(_vm.searchKey)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchKey=$event.target.value}}}),_vm._v(\" \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchKey.trim()!=''),expression:\"searchKey.trim()!=''\"}],staticClass:\"empty-search\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.clearSearch()}}})]),_vm._v(\" \"),_c('a',{staticClass:\"search-btn\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.go1()}}}),_vm._v(\" \"),(_vm.responseList.length>0)?_c('ul',{staticClass:\"response-box\"},_vm._l((_vm.responseList),function(data){return _c('li',{attrs:{\"track-by\":\"$index\"}},[_c('a',{attrs:{\"href\":\"javascript:;\"},domProps:{\"innerHTML\":_vm._s(data)},on:{\"click\":function($event){_vm.go($event)}}})])})):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"hot-search\"},[_c('p',[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',{staticClass:\"hot-items clearfix\"},_vm._l((_vm.hotSearch),function(data){return _c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},domProps:{\"innerHTML\":_vm._s(data.linkContent)},on:{\"click\":function($event){_vm.go($event)}}})])}))]),_vm._v(\" \"),_c('div',{staticClass:\"history\"},[_c('div',{staticClass:\"history-header\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t历史记录\\n\\t\\t\\t\\t\\t\"),_c('a',{staticClass:\"empty-history\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.removeHistory()}}},[_vm._v(\"清空记录\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"history-items\"},_vm._l((_vm.history),function(data){return _c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},domProps:{\"innerHTML\":_vm._s(data.q)},on:{\"click\":function($event){_vm.go($event)}}})])}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var goods_search = (esExports);\n// CONCATENATED MODULE: ./src/pages/goods/search.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"XK/F\")\n}\nvar normalizeComponent = __webpack_require__(\"/Xao\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c019f2a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  search,\n  goods_search,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var pages_goods_search = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"totX\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"BkJT\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".search-wrap[data-v-3c019f2a]{position:fixed;z-index:66;width:100%;left:0;top:0;height:3.417rem;border-bottom:1px solid #ebebeb;background-color:#fff}.search-wrap .header-back[data-v-3c019f2a]{position:absolute;top:1rem;left:.875rem;width:1.4rem;height:1.4rem;background:url(\" + __webpack_require__(\"iAqf\") + \") no-repeat 50%/1.3rem 1.3rem}.search-wrap .search-main[data-v-3c019f2a]{position:relative;max-width:640px;margin:0 auto}.search-wrap .search-box[data-v-3c019f2a]{position:absolute;left:3rem;top:.56rem;width:21rem;height:2.292rem;background:#f4f4f4;border-radius:4px}.search-wrap .search[data-v-3c019f2a]{width:80%;margin-top:.4rem;margin-left:1rem;height:1.6rem;line-height:1.6rem;border:none;background:#f4f4f4}.search-wrap .search-btn[data-v-3c019f2a]{float:right;margin-right:.8rem;margin-top:1.2rem;width:1.167rem;height:1.167rem;background:url(\" + __webpack_require__(\"fGur\") + \") no-repeat 0 0;background-size:400px 400px;vertical-align:middle}.search-wrap .response-box[data-v-3c019f2a]{position:absolute;left:0;top:3.417rem;width:100%;background-color:#fff}.search-wrap .response-box li[data-v-3c019f2a]{padding-left:1rem;border-bottom:1px solid #ebebeb}.search-wrap .response-box a[data-v-3c019f2a]{display:block;line-height:2.708rem;color:#000}.search-wrap .empty-search[data-v-3c019f2a]{float:right;margin-top:.5rem;margin-right:1rem;width:1.4rem;height:1.4rem;background:url(\" + __webpack_require__(\"fGur\") + \") no-repeat 0 -3.958rem;background-size:33.333rem 33.333rem}.hot-search[data-v-3c019f2a]{padding:4.417rem 1rem 1rem;background-color:#fff}.hot-search .hot-items li[data-v-3c019f2a]{float:left;margin:10px 10px 0 0}.hot-search .hot-items a[data-v-3c019f2a]{display:block;padding:5px 10px;line-height:1.2rem;background-color:#f1f1f1;color:#3b3b3b;border-radius:3px}.history[data-v-3c019f2a]{margin-top:.708rem;background-color:#fff}.history .history-header[data-v-3c019f2a]{padding:0 1rem;line-height:3.125rem;border-bottom:1px solid #ebebeb}.history .empty-history[data-v-3c019f2a]{float:right;margin-top:.833rem;padding:.208rem .417rem;color:#b3b3b3;line-height:1;border:1px solid #b3b3b3;border-radius:2px}.history .history-items[data-v-3c019f2a]{padding-left:1rem}.history .history-items li[data-v-3c019f2a]{line-height:2.5rem;border-bottom:1px solid #ebebeb}.history .history-items a[data-v-3c019f2a]{display:block;color:#3b3b3b}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/kaifa1/Desktop/vue/11.13/shop/src/pages/goods/search.vue\"],\"names\":[],\"mappings\":\"AA0NA,8BACI,eAAe,AACf,WAAY,AACZ,WAAY,AACZ,OAAQ,AACR,MAAO,AACP,gBAAgB,AAChB,gCAAiC,AACjC,qBAAuB,CAC1B,AACD,2CACI,kBAAmB,AACnB,SAAU,AACV,aAAe,AACf,aAAc,AACd,cAAe,AACf,oEAAiF,CACpF,AACD,2CACI,kBAAmB,AACnB,gBAAiB,AACjB,aAAe,CAClB,AACD,0CACI,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,iBAAmB,CACtB,AACD,sCACI,UAAW,AACX,iBAAkB,AAClB,iBAAkB,AAClB,cAAe,AACf,mBAAoB,AACpB,YAAY,AACZ,kBAAoB,CACvB,AACD,0CACI,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,eAAgB,AAChB,gBAAiB,AACjB,uDAAwD,AACxD,4BAA4B,AAC5B,qBAAuB,CAC1B,AACD,4CACI,kBAAmB,AACnB,OAAQ,AACR,aAAc,AACd,WAAY,AACZ,qBAAuB,CAC1B,AACD,+CACI,kBAAmB,AACnB,+BAAiC,CACpC,AACD,8CACI,cAAe,AACf,qBAAsB,AACtB,UAAY,CACf,AACD,4CACI,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,aAAc,AACd,cAAe,AACf,+DAAiE,AACjE,mCAAqC,CACxC,AAID,6BACI,2BAA4B,AAC5B,qBAAuB,CAC1B,AACD,2CACI,WAAY,AACZ,oBAAsB,CACzB,AACD,0CACI,cAAe,AACf,iBAAkB,AAClB,mBAAoB,AACpB,yBAA0B,AAC1B,cAAe,AACf,iBAAmB,CACtB,AAID,0BACI,mBAAqB,AACrB,qBAAuB,CAC1B,AACD,0CACI,eAAgB,AAChB,qBAAsB,AACtB,+BAAiC,CACpC,AACD,yCACI,YAAa,AACb,mBAAqB,AACrB,wBAA2B,AAC3B,cAAe,AACf,cAAe,AACf,yBAAyB,AACzB,iBAAmB,CACtB,AACD,yCACI,iBAAmB,CACtB,AACD,4CACI,mBAAoB,AACpB,+BAAiC,CACpC,AACD,2CACI,cAAe,AACf,aAAe,CAClB\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n/*搜索框开始*/\\n.search-wrap[data-v-3c019f2a] {\\r\\n    position:fixed;\\r\\n    z-index: 66;\\r\\n    width: 100%;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    height:3.417rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\r\\n    background-color: #fff;\\n}\\n.search-wrap .header-back[data-v-3c019f2a] {\\r\\n    position: absolute;\\r\\n    top: 1rem;\\r\\n    left: 0.875rem;\\r\\n    width: 1.4rem;\\r\\n    height: 1.4rem;\\r\\n    background: url(../../m-images/header-back.png) no-repeat center / 1.3rem 1.3rem;\\n}\\n.search-wrap .search-main[data-v-3c019f2a] {\\r\\n    position: relative;\\r\\n    max-width: 640px;\\r\\n    margin: 0 auto;\\n}\\n.search-wrap .search-box[data-v-3c019f2a] {\\r\\n    position: absolute;\\r\\n    left: 3rem;\\r\\n    top: .56rem;\\r\\n    width: 21rem;\\r\\n    height: 2.292rem;\\r\\n    background: #f4f4f4;\\r\\n    border-radius: 4px;\\n}\\n.search-wrap .search[data-v-3c019f2a] {\\r\\n    width: 80%;\\r\\n    margin-top: .4rem;\\r\\n    margin-left: 1rem;\\r\\n    height: 1.6rem;\\r\\n    line-height: 1.6rem;\\r\\n    border:none;\\r\\n    background: #f4f4f4;\\n}\\n.search-wrap .search-btn[data-v-3c019f2a] {\\r\\n    float: right;\\r\\n    margin-right: .8rem;\\r\\n    margin-top: 1.2rem;\\r\\n    width: 1.167rem;\\r\\n    height: 1.167rem;\\r\\n    background: url(../../m-images/icon2.png) no-repeat 0 0;\\r\\n    background-size:400px 400px;\\r\\n    vertical-align: middle;\\n}\\n.search-wrap .response-box[data-v-3c019f2a] {\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 3.417rem;\\r\\n    width: 100%;\\r\\n    background-color: #fff;\\n}\\n.search-wrap .response-box li[data-v-3c019f2a] {\\r\\n    padding-left: 1rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\n}\\n.search-wrap .response-box a[data-v-3c019f2a] {\\r\\n    display: block;\\r\\n    line-height: 2.708rem;\\r\\n    color: #000;\\n}\\n.search-wrap .empty-search[data-v-3c019f2a] {\\r\\n    float: right;\\r\\n    margin-top: .5rem;\\r\\n    margin-right: 1rem;\\r\\n    width: 1.4rem;\\r\\n    height: 1.4rem;\\r\\n    background:  url(../../m-images/icon2.png) no-repeat 0 -3.958rem;\\r\\n    background-size: 33.333rem 33.333rem;\\n}\\r\\n/*搜索框结束*/\\r\\n\\r\\n/*热门搜索开始*/\\n.hot-search[data-v-3c019f2a] {\\r\\n    padding: 4.417rem 1rem 1rem;\\r\\n    background-color: #fff;\\n}\\n.hot-search .hot-items li[data-v-3c019f2a] {\\r\\n    float: left;\\r\\n    margin: 10px 10px 0 0;\\n}\\n.hot-search .hot-items a[data-v-3c019f2a] {\\r\\n    display: block;\\r\\n    padding: 5px 10px;\\r\\n    line-height: 1.2rem;\\r\\n    background-color: #f1f1f1;\\r\\n    color: #3b3b3b;\\r\\n    border-radius: 3px;\\n}\\r\\n/*热门搜索结束*/\\r\\n\\r\\n/*历史记录开始*/\\n.history[data-v-3c019f2a] {\\r\\n    margin-top: 0.708rem;\\r\\n    background-color: #fff;\\n}\\n.history .history-header[data-v-3c019f2a] {\\r\\n    padding: 0 1rem;\\r\\n    line-height: 3.125rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\n}\\n.history .empty-history[data-v-3c019f2a] {\\r\\n    float: right;\\r\\n    margin-top: 0.833rem;\\r\\n    padding: 0.208rem 0.417rem;\\r\\n    color: #b3b3b3;\\r\\n    line-height: 1;\\r\\n    border:1px solid #b3b3b3;\\r\\n    border-radius: 2px;\\n}\\n.history .history-items[data-v-3c019f2a] {\\r\\n    padding-left: 1rem;\\n}\\n.history .history-items li[data-v-3c019f2a] {\\r\\n    line-height: 2.5rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\n}\\n.history .history-items a[data-v-3c019f2a] {\\r\\n    display: block;\\r\\n    color: #3b3b3b;\\n}\\r\\n/*历史记录结束*/\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.c17d53b45ca421cc14fe.js","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/json/stringify.js\n// module id = 3cXf\n// module chunks = 4 7","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.5.1@core-js/library/fn/json/stringify.js\n// module id = I4CF\n// module chunks = 4 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.7@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c019f2a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=styles&index=0!./search.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.0.3@vue-style-loader/lib/addStylesClient.js\")(\"3c4318de\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.0.3@vue-style-loader!./node_modules/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3c019f2a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/goods/search.vue\n// module id = XK/F\n// module chunks = 7","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c019f2a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c019f2a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.5.0@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c019f2a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/goods/search.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div>\r\n\t\t<div class=\"search-wrap\">\r\n\t\t\t<div class=\"search-main\">\r\n\t\t\t\t<a href=\"javascript:history.back();\" class=\"header-back\"></a>\r\n\t\t\t\t<div class=\"search-box\">\r\n\t\t\t\t\t<input type=\"text\" class=\"search\" v-bind:placeholder=\"linkContent\" v-model=\"searchKey\">\r\n\t\t\t\t\t<a href=\"javascript:;\" class=\"empty-search\" v-show=\"searchKey.trim()!=''\" v-on:click=\"clearSearch()\"></a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a href=\"javascript:;\" class=\"search-btn\" v-on:click=\"go1()\"></a>\r\n\t\t\t\t<ul class=\"response-box\" v-if=\"responseList.length>0\">\r\n\t\t\t\t\t<li v-for=\"data in responseList\" track-by=\"$index\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" v-html=\"data\" v-on:click=\"go($event)\"></a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n            </div>\r\n\t\t\t<div class=\"hot-search\">\r\n\t\t\t\t<p>热门搜索</p>\r\n\t\t\t\t<ul class=\"hot-items clearfix\">\r\n\t\t\t\t\t<li v-for=\"data in hotSearch\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" v-html=\"data.linkContent\" v-on:click=\"go($event)\"></a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"history\">\r\n\t\t\t\t<div class=\"history-header\">\r\n\t\t\t\t\t历史记录\r\n\t\t\t\t\t<a href=\"javascript:;\" class=\"empty-history\" @click=\"removeHistory()\">清空记录</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul class=\"history-items\">\r\n\t\t\t\t\t<li v-for=\"data in history\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" v-html=\"data.q\" @click=\"go($event)\"></a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport commonMethods from '@/js/common';\r\nimport '../../js/zepto.min.js';\r\n\r\nexport default{\r\n\tname:'search',\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tsearchKey : '',//搜索词\r\n            responseList : [],//按键感应内容\r\n            hotSearch : [],//热搜词\r\n            history : [],//历史记录\r\n            lastGo : true,\r\n            linkContent : ''//默认搜索\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\t//判断是否是无痕模式\r\n      if(this.storageTest(window.localStorage)){\r\n        let storage = window.localStorage;\r\n        let object = new Object();\r\n        if(storage.getItem('nisu')=='{}'){\r\n            storage.setItem('nisu',JSON.stringify(object));\r\n        }\r\n        this.getHistory();\r\n      }\r\n      this.getHotList();\r\n      this.getTextSearch();\r\n\t},\r\n\t//监听搜索词变化\r\n\twatch :{\r\n\t\tsearchKey:function(){\r\n\t\t\tthis.getResponseData();\r\n\t\t}\r\n\t},\r\n\tmethods : {\r\n        storageTest(storage){\r\n            if(!!storage){\r\n                try{\r\n                    storage.setItem('key','value');\r\n                    storage.removeItem('key');\r\n                    return true;\r\n                }catch(e){\r\n                    return false;\r\n                }\r\n            }else{\r\n                return false;\r\n            }\r\n        },\r\n        getTextSearch(){\r\n        \tvar oThis = this;\r\n        \toThis.responseList = [];\r\n        \t$.ajax({\r\n        \t\ttype:'post',\r\n        \t\turl:'https://www.easy-mock.com/mock/5a0bad8922eff44db04955c0/example_1510714761014/getTextSearch',\r\n        \t\tdataType:'json',\r\n        \t\tsuccess:function(data){\r\n                  if(data.data.message){\r\n                  \toThis.linkContent = data.data.list[0]['linkContent'];\r\n                  }\r\n        \t\t}\r\n        \t})\r\n        },\r\n        getResponseData(){\r\n        \tvar oThis = this;\r\n        \tif(oThis.lastGo){\r\n        \t\toThis.lastGo = false;\r\n        \t\t$.ajax({\r\n        \t\t\ttype:'post',\r\n        \t\t\turl:'',\r\n        \t\t\tdata:{\r\n        \t\t\t\tkeyWord : oThis.searchKey,\r\n        \t\t\t},\r\n        \t\t\tdataType:'json',\r\n                    success:function(data){\r\n                    \tif(data.data.message){\r\n                    \t\toThis.responseList = data.data;\r\n                    \t}else{\r\n                    \t\toThis.responseList = [];\r\n                    \t}\r\n                    }\r\n        \t\t})\r\n        \t}\r\n        },\r\n        clearSearch(){\r\n        \tthis.searchKey = '';\r\n        \tthis.responseList = [];\r\n        },\r\n        getHotList(){\r\n        \tvar oThis = this;\r\n        \t$.ajax({\r\n        \t\ttype:'post',\r\n        \t\turl:'https://www.easy-mock.com/mock/5a0bad8922eff44db04955c0/example_1510714761014/hotSearch',\r\n        \t\tdataType:'json',\r\n        \t\tsuccess:function(data){\r\n        \t\t\tif(data.data.message){\r\n        \t\t\t\toThis.hotSearch = data.data.hotList;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t})\r\n        },\r\n        go(e){\r\n            var dom = e.target;\r\n            var oThis = this;\r\n            oThis.searchKey = dom.innerText;\r\n            if(this.searchKey.trim()===''){\r\n            \tthis.$route.push({path:'goodsResult',query : {keyword:this.linkContent}})\r\n            }\r\n            if(this.storageTest(window.localStorage)){\r\n                this.setHistory(this.searchKey);\r\n            }\r\n            oThis.responseList = [];\r\n            this.$router.push({ path: 'goodsResult', query: {  keyword : oThis.searchKey }});\r\n            oThis.searchKey='';\r\n        },\r\n        go1(){\r\n            if(this.searchKey==''){\r\n                this.searchKey = this.linkContent;\r\n            }\r\n             this.$router.push({ path: 'goodsResult', query: {  keyword : this.searchKey }});\r\n        },\r\n          // 设置历史记录\r\n        setHistory(strKey) {\r\n            var nowtime = (new Date()).getTime(),\r\n            storage = window.localStorage,\r\n            obj = JSON.parse(storage.getItem('nisu'));//字符串转对象\r\n            obj[strKey] = nowtime;\r\n            storage.setItem('nisu', JSON.stringify(obj));//对象转字符串\r\n        },\r\n         // 获取历史记录\r\n        getHistory() {\r\n            var storage = window.localStorage,\r\n                length = 10,\r\n                arr = [],\r\n                obj = {},\r\n                newObj = {};\r\n            this.history = [];\r\n            obj = JSON.parse(storage.getItem('nisu'));//字符串转对象\r\n            for(var x in obj) {\r\n                arr.push(obj[x]);\r\n            }\r\n            arr.sort(function(a, b) {\r\n                return b-a;\r\n            });\r\n            arr.length>=10 ? length = 10 : length = arr.length;\r\n            for(var i=0; i<length; i++) {\r\n                for(var x in obj) {\r\n                    if( obj[x]===arr[i] ) {\r\n                        this.history.push({q : x});\r\n                        newObj[x] = arr[i];\r\n                    }\r\n                }\r\n            }\r\n            storage.setItem('nisu', JSON.stringify(newObj));//对象转字符串\r\n        },\r\n         // 清除历史记录\r\n        removeHistory() {\r\n            if( this.storageTest(window.localStorage) ) {\r\n                this.history = [];\r\n                window.localStorage.removeItem('nisu');\r\n                var storage = window.localStorage,\r\n                    obj = new Object();\r\n                storage.setItem('nisu', JSON.stringify(obj));//对象转字符串\r\n            }\r\n        },\r\n\r\n        throttle(method, context) {\r\n            clearTimeout(method.tId);\r\n                method.tId = setTimeout(function(){\r\n                    method.call(context);\r\n            }, 100);\r\n        }\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/*搜索框开始*/\r\n.search-wrap {\r\n    position:fixed;\r\n    z-index: 66;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    height:3.417rem;\r\n    border-bottom: 1px solid #ebebeb;\r\n    background-color: #fff;\r\n}\r\n.search-wrap .header-back {\r\n    position: absolute;\r\n    top: 1rem;\r\n    left: 0.875rem;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    background: url(../../m-images/header-back.png) no-repeat center / 1.3rem 1.3rem;\r\n}\r\n.search-wrap .search-main {\r\n    position: relative;\r\n    max-width: 640px;\r\n    margin: 0 auto;\r\n}\r\n.search-wrap .search-box {\r\n    position: absolute;\r\n    left: 3rem;\r\n    top: .56rem;\r\n    width: 21rem;\r\n    height: 2.292rem;\r\n    background: #f4f4f4;\r\n    border-radius: 4px;\r\n}\r\n.search-wrap .search {\r\n    width: 80%;\r\n    margin-top: .4rem;\r\n    margin-left: 1rem;\r\n    height: 1.6rem;\r\n    line-height: 1.6rem;\r\n    border:none;\r\n    background: #f4f4f4;\r\n}\r\n.search-wrap .search-btn {\r\n    float: right;\r\n    margin-right: .8rem;\r\n    margin-top: 1.2rem;\r\n    width: 1.167rem;\r\n    height: 1.167rem;\r\n    background: url(../../m-images/icon2.png) no-repeat 0 0;\r\n    background-size:400px 400px;\r\n    vertical-align: middle;\r\n}\r\n.search-wrap .response-box {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 3.417rem;\r\n    width: 100%;\r\n    background-color: #fff;\r\n}\r\n.search-wrap .response-box li {\r\n    padding-left: 1rem;\r\n    border-bottom: 1px solid #ebebeb;\r\n}\r\n.search-wrap .response-box a {\r\n    display: block;\r\n    line-height: 2.708rem;\r\n    color: #000;\r\n}\r\n.search-wrap .empty-search {\r\n    float: right;\r\n    margin-top: .5rem;\r\n    margin-right: 1rem;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    background:  url(../../m-images/icon2.png) no-repeat 0 -3.958rem;\r\n    background-size: 33.333rem 33.333rem;\r\n}\r\n/*搜索框结束*/\r\n\r\n/*热门搜索开始*/\r\n.hot-search {\r\n    padding: 4.417rem 1rem 1rem;\r\n    background-color: #fff;\r\n}\r\n.hot-search .hot-items li {\r\n    float: left;\r\n    margin: 10px 10px 0 0;\r\n}\r\n.hot-search .hot-items a {\r\n    display: block;\r\n    padding: 5px 10px;\r\n    line-height: 1.2rem;\r\n    background-color: #f1f1f1;\r\n    color: #3b3b3b;\r\n    border-radius: 3px;\r\n}\r\n/*热门搜索结束*/\r\n\r\n/*历史记录开始*/\r\n.history {\r\n    margin-top: 0.708rem;\r\n    background-color: #fff;\r\n}\r\n.history .history-header {\r\n    padding: 0 1rem;\r\n    line-height: 3.125rem;\r\n    border-bottom: 1px solid #ebebeb;\r\n}\r\n.history .empty-history {\r\n    float: right;\r\n    margin-top: 0.833rem;\r\n    padding: 0.208rem 0.417rem;\r\n    color: #b3b3b3;\r\n    line-height: 1;\r\n    border:1px solid #b3b3b3;\r\n    border-radius: 2px;\r\n}\r\n.history .history-items {\r\n    padding-left: 1rem;\r\n}\r\n.history .history-items li {\r\n    line-height: 2.5rem;\r\n    border-bottom: 1px solid #ebebeb;\r\n}\r\n.history .history-items a {\r\n    display: block;\r\n    color: #3b3b3b;\r\n}\r\n/*历史记录结束*/\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/goods/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-wrap\"},[_c('div',{staticClass:\"search-main\"},[_c('a',{staticClass:\"header-back\",attrs:{\"href\":\"javascript:history.back();\"}}),_vm._v(\" \"),_c('div',{staticClass:\"search-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchKey),expression:\"searchKey\"}],staticClass:\"search\",attrs:{\"type\":\"text\",\"placeholder\":_vm.linkContent},domProps:{\"value\":(_vm.searchKey)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchKey=$event.target.value}}}),_vm._v(\" \"),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchKey.trim()!=''),expression:\"searchKey.trim()!=''\"}],staticClass:\"empty-search\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.clearSearch()}}})]),_vm._v(\" \"),_c('a',{staticClass:\"search-btn\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.go1()}}}),_vm._v(\" \"),(_vm.responseList.length>0)?_c('ul',{staticClass:\"response-box\"},_vm._l((_vm.responseList),function(data){return _c('li',{attrs:{\"track-by\":\"$index\"}},[_c('a',{attrs:{\"href\":\"javascript:;\"},domProps:{\"innerHTML\":_vm._s(data)},on:{\"click\":function($event){_vm.go($event)}}})])})):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"hot-search\"},[_c('p',[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_c('ul',{staticClass:\"hot-items clearfix\"},_vm._l((_vm.hotSearch),function(data){return _c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},domProps:{\"innerHTML\":_vm._s(data.linkContent)},on:{\"click\":function($event){_vm.go($event)}}})])}))]),_vm._v(\" \"),_c('div',{staticClass:\"history\"},[_c('div',{staticClass:\"history-header\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t历史记录\\n\\t\\t\\t\\t\\t\"),_c('a',{staticClass:\"empty-history\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.removeHistory()}}},[_vm._v(\"清空记录\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"history-items\"},_vm._l((_vm.history),function(data){return _c('li',[_c('a',{attrs:{\"href\":\"javascript:;\"},domProps:{\"innerHTML\":_vm._s(data.q)},on:{\"click\":function($event){_vm.go($event)}}})])}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.5.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-3c019f2a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/goods/search.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".search-wrap[data-v-3c019f2a]{position:fixed;z-index:66;width:100%;left:0;top:0;height:3.417rem;border-bottom:1px solid #ebebeb;background-color:#fff}.search-wrap .header-back[data-v-3c019f2a]{position:absolute;top:1rem;left:.875rem;width:1.4rem;height:1.4rem;background:url(\" + require(\"../../m-images/header-back.png\") + \") no-repeat 50%/1.3rem 1.3rem}.search-wrap .search-main[data-v-3c019f2a]{position:relative;max-width:640px;margin:0 auto}.search-wrap .search-box[data-v-3c019f2a]{position:absolute;left:3rem;top:.56rem;width:21rem;height:2.292rem;background:#f4f4f4;border-radius:4px}.search-wrap .search[data-v-3c019f2a]{width:80%;margin-top:.4rem;margin-left:1rem;height:1.6rem;line-height:1.6rem;border:none;background:#f4f4f4}.search-wrap .search-btn[data-v-3c019f2a]{float:right;margin-right:.8rem;margin-top:1.2rem;width:1.167rem;height:1.167rem;background:url(\" + require(\"../../m-images/icon2.png\") + \") no-repeat 0 0;background-size:400px 400px;vertical-align:middle}.search-wrap .response-box[data-v-3c019f2a]{position:absolute;left:0;top:3.417rem;width:100%;background-color:#fff}.search-wrap .response-box li[data-v-3c019f2a]{padding-left:1rem;border-bottom:1px solid #ebebeb}.search-wrap .response-box a[data-v-3c019f2a]{display:block;line-height:2.708rem;color:#000}.search-wrap .empty-search[data-v-3c019f2a]{float:right;margin-top:.5rem;margin-right:1rem;width:1.4rem;height:1.4rem;background:url(\" + require(\"../../m-images/icon2.png\") + \") no-repeat 0 -3.958rem;background-size:33.333rem 33.333rem}.hot-search[data-v-3c019f2a]{padding:4.417rem 1rem 1rem;background-color:#fff}.hot-search .hot-items li[data-v-3c019f2a]{float:left;margin:10px 10px 0 0}.hot-search .hot-items a[data-v-3c019f2a]{display:block;padding:5px 10px;line-height:1.2rem;background-color:#f1f1f1;color:#3b3b3b;border-radius:3px}.history[data-v-3c019f2a]{margin-top:.708rem;background-color:#fff}.history .history-header[data-v-3c019f2a]{padding:0 1rem;line-height:3.125rem;border-bottom:1px solid #ebebeb}.history .empty-history[data-v-3c019f2a]{float:right;margin-top:.833rem;padding:.208rem .417rem;color:#b3b3b3;line-height:1;border:1px solid #b3b3b3;border-radius:2px}.history .history-items[data-v-3c019f2a]{padding-left:1rem}.history .history-items li[data-v-3c019f2a]{line-height:2.5rem;border-bottom:1px solid #ebebeb}.history .history-items a[data-v-3c019f2a]{display:block;color:#3b3b3b}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/kaifa1/Desktop/vue/11.13/shop/src/pages/goods/search.vue\"],\"names\":[],\"mappings\":\"AA0NA,8BACI,eAAe,AACf,WAAY,AACZ,WAAY,AACZ,OAAQ,AACR,MAAO,AACP,gBAAgB,AAChB,gCAAiC,AACjC,qBAAuB,CAC1B,AACD,2CACI,kBAAmB,AACnB,SAAU,AACV,aAAe,AACf,aAAc,AACd,cAAe,AACf,oEAAiF,CACpF,AACD,2CACI,kBAAmB,AACnB,gBAAiB,AACjB,aAAe,CAClB,AACD,0CACI,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,iBAAmB,CACtB,AACD,sCACI,UAAW,AACX,iBAAkB,AAClB,iBAAkB,AAClB,cAAe,AACf,mBAAoB,AACpB,YAAY,AACZ,kBAAoB,CACvB,AACD,0CACI,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,eAAgB,AAChB,gBAAiB,AACjB,uDAAwD,AACxD,4BAA4B,AAC5B,qBAAuB,CAC1B,AACD,4CACI,kBAAmB,AACnB,OAAQ,AACR,aAAc,AACd,WAAY,AACZ,qBAAuB,CAC1B,AACD,+CACI,kBAAmB,AACnB,+BAAiC,CACpC,AACD,8CACI,cAAe,AACf,qBAAsB,AACtB,UAAY,CACf,AACD,4CACI,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,aAAc,AACd,cAAe,AACf,+DAAiE,AACjE,mCAAqC,CACxC,AAID,6BACI,2BAA4B,AAC5B,qBAAuB,CAC1B,AACD,2CACI,WAAY,AACZ,oBAAsB,CACzB,AACD,0CACI,cAAe,AACf,iBAAkB,AAClB,mBAAoB,AACpB,yBAA0B,AAC1B,cAAe,AACf,iBAAmB,CACtB,AAID,0BACI,mBAAqB,AACrB,qBAAuB,CAC1B,AACD,0CACI,eAAgB,AAChB,qBAAsB,AACtB,+BAAiC,CACpC,AACD,yCACI,YAAa,AACb,mBAAqB,AACrB,wBAA2B,AAC3B,cAAe,AACf,cAAe,AACf,yBAAyB,AACzB,iBAAmB,CACtB,AACD,yCACI,iBAAmB,CACtB,AACD,4CACI,mBAAoB,AACpB,+BAAiC,CACpC,AACD,2CACI,cAAe,AACf,aAAe,CAClB\",\"file\":\"search.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n/*搜索框开始*/\\n.search-wrap[data-v-3c019f2a] {\\r\\n    position:fixed;\\r\\n    z-index: 66;\\r\\n    width: 100%;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    height:3.417rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\r\\n    background-color: #fff;\\n}\\n.search-wrap .header-back[data-v-3c019f2a] {\\r\\n    position: absolute;\\r\\n    top: 1rem;\\r\\n    left: 0.875rem;\\r\\n    width: 1.4rem;\\r\\n    height: 1.4rem;\\r\\n    background: url(../../m-images/header-back.png) no-repeat center / 1.3rem 1.3rem;\\n}\\n.search-wrap .search-main[data-v-3c019f2a] {\\r\\n    position: relative;\\r\\n    max-width: 640px;\\r\\n    margin: 0 auto;\\n}\\n.search-wrap .search-box[data-v-3c019f2a] {\\r\\n    position: absolute;\\r\\n    left: 3rem;\\r\\n    top: .56rem;\\r\\n    width: 21rem;\\r\\n    height: 2.292rem;\\r\\n    background: #f4f4f4;\\r\\n    border-radius: 4px;\\n}\\n.search-wrap .search[data-v-3c019f2a] {\\r\\n    width: 80%;\\r\\n    margin-top: .4rem;\\r\\n    margin-left: 1rem;\\r\\n    height: 1.6rem;\\r\\n    line-height: 1.6rem;\\r\\n    border:none;\\r\\n    background: #f4f4f4;\\n}\\n.search-wrap .search-btn[data-v-3c019f2a] {\\r\\n    float: right;\\r\\n    margin-right: .8rem;\\r\\n    margin-top: 1.2rem;\\r\\n    width: 1.167rem;\\r\\n    height: 1.167rem;\\r\\n    background: url(../../m-images/icon2.png) no-repeat 0 0;\\r\\n    background-size:400px 400px;\\r\\n    vertical-align: middle;\\n}\\n.search-wrap .response-box[data-v-3c019f2a] {\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 3.417rem;\\r\\n    width: 100%;\\r\\n    background-color: #fff;\\n}\\n.search-wrap .response-box li[data-v-3c019f2a] {\\r\\n    padding-left: 1rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\n}\\n.search-wrap .response-box a[data-v-3c019f2a] {\\r\\n    display: block;\\r\\n    line-height: 2.708rem;\\r\\n    color: #000;\\n}\\n.search-wrap .empty-search[data-v-3c019f2a] {\\r\\n    float: right;\\r\\n    margin-top: .5rem;\\r\\n    margin-right: 1rem;\\r\\n    width: 1.4rem;\\r\\n    height: 1.4rem;\\r\\n    background:  url(../../m-images/icon2.png) no-repeat 0 -3.958rem;\\r\\n    background-size: 33.333rem 33.333rem;\\n}\\r\\n/*搜索框结束*/\\r\\n\\r\\n/*热门搜索开始*/\\n.hot-search[data-v-3c019f2a] {\\r\\n    padding: 4.417rem 1rem 1rem;\\r\\n    background-color: #fff;\\n}\\n.hot-search .hot-items li[data-v-3c019f2a] {\\r\\n    float: left;\\r\\n    margin: 10px 10px 0 0;\\n}\\n.hot-search .hot-items a[data-v-3c019f2a] {\\r\\n    display: block;\\r\\n    padding: 5px 10px;\\r\\n    line-height: 1.2rem;\\r\\n    background-color: #f1f1f1;\\r\\n    color: #3b3b3b;\\r\\n    border-radius: 3px;\\n}\\r\\n/*热门搜索结束*/\\r\\n\\r\\n/*历史记录开始*/\\n.history[data-v-3c019f2a] {\\r\\n    margin-top: 0.708rem;\\r\\n    background-color: #fff;\\n}\\n.history .history-header[data-v-3c019f2a] {\\r\\n    padding: 0 1rem;\\r\\n    line-height: 3.125rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\n}\\n.history .empty-history[data-v-3c019f2a] {\\r\\n    float: right;\\r\\n    margin-top: 0.833rem;\\r\\n    padding: 0.208rem 0.417rem;\\r\\n    color: #b3b3b3;\\r\\n    line-height: 1;\\r\\n    border:1px solid #b3b3b3;\\r\\n    border-radius: 2px;\\n}\\n.history .history-items[data-v-3c019f2a] {\\r\\n    padding-left: 1rem;\\n}\\n.history .history-items li[data-v-3c019f2a] {\\r\\n    line-height: 2.5rem;\\r\\n    border-bottom: 1px solid #ebebeb;\\n}\\n.history .history-items a[data-v-3c019f2a] {\\r\\n    display: block;\\r\\n    color: #3b3b3b;\\n}\\r\\n/*历史记录结束*/\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.7@css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3c019f2a\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/_vue-loader@13.5.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/goods/search.vue\n// module id = totX\n// module chunks = 7"],"sourceRoot":""}