webpackJsonp([7],{"3cXf":function(n,r,e){n.exports={default:e("I4CF"),__esModule:!0}},I4CF:function(n,r,e){var t=e("0nnt"),a=t.JSON||(t.JSON={stringify:JSON.stringify});n.exports=function(n){return a.stringify.apply(a,arguments)}},"XK/F":function(n,r,e){var t=e("totX");"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);e("8bSs")("3c4318de",t,!0)},qyBY:function(n,r,e){"use strict";function t(n){e("XK/F")}Object.defineProperty(r,"__esModule",{value:!0});var a=e("3cXf"),o=e.n(a),s=(e("g5qz"),e("UE85"),{name:"search",data:function(){return{searchKey:"",responseList:[],hotSearch:[],history:[],lastGo:!0,linkContent:""}},mounted:function(){if(this.storageTest(window.localStorage)){var n=window.localStorage,r=new Object;"{}"==n.getItem("nisu")&&n.setItem("nisu",o()(r)),this.getHistory()}this.getHotList(),this.getTextSearch()},watch:{searchKey:function(){this.getResponseData()}},methods:{storageTest:function(n){if(!n)return!1;try{return n.setItem("key","value"),n.removeItem("key"),!0}catch(n){return!1}},getTextSearch:function(){var n=this;n.responseList=[],$.ajax({type:"post",url:"https://www.easy-mock.com/mock/5a0bad8922eff44db04955c0/example_1510714761014/getTextSearch",dataType:"json",success:function(r){r.data.message&&(n.linkContent=r.data.list[0].linkContent)}})},getResponseData:function(){var n=this;n.lastGo&&(n.lastGo=!1,$.ajax({type:"post",url:"",data:{keyWord:n.searchKey},dataType:"json",success:function(r){r.data.message?n.responseList=r.data:n.responseList=[]}}))},clearSearch:function(){this.searchKey="",this.responseList=[]},getHotList:function(){var n=this;$.ajax({type:"post",url:"https://www.easy-mock.com/mock/5a0bad8922eff44db04955c0/example_1510714761014/hotSearch",dataType:"json",success:function(r){r.data.message&&(n.hotSearch=r.data.hotList)}})},go:function(n){var r=n.target,e=this;e.searchKey=r.innerText,""===this.searchKey.trim()&&this.$route.push({path:"goodsResult",query:{keyword:this.linkContent}}),this.storageTest(window.localStorage)&&this.setHistory(this.searchKey),e.responseList=[],this.$router.push({path:"goodsResult",query:{keyword:e.searchKey}}),e.searchKey=""},go1:function(){""==this.searchKey&&(this.searchKey=this.linkContent),this.$router.push({path:"goodsResult",query:{keyword:this.searchKey}})},setHistory:function(n){var r=(new Date).getTime(),e=window.localStorage,t=JSON.parse(e.getItem("nisu"));t[n]=r,e.setItem("nisu",o()(t))},getHistory:function(){var n=window.localStorage,r=10,e=[],t={},a={};this.history=[],t=JSON.parse(n.getItem("nisu"));for(var s in t)e.push(t[s]);e.sort(function(n,r){return r-n}),r=e.length>=10?10:e.length;for(var i=0;i<r;i++)for(var s in t)t[s]===e[i]&&(this.history.push({q:s}),a[s]=e[i]);n.setItem("nisu",o()(a))},removeHistory:function(){if(this.storageTest(window.localStorage)){this.history=[],window.localStorage.removeItem("nisu");var n=window.localStorage,r=new Object;n.setItem("nisu",o()(r))}},throttle:function(n,r){clearTimeout(n.tId),n.tId=setTimeout(function(){n.call(r)},100)}}}),i=function(){var n=this,r=n.$createElement,e=n._self._c||r;return e("div",[e("div",{staticClass:"search-wrap"},[e("div",{staticClass:"search-main"},[e("a",{staticClass:"header-back",attrs:{href:"javascript:history.back();"}}),n._v(" "),e("div",{staticClass:"search-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.searchKey,expression:"searchKey"}],staticClass:"search",attrs:{type:"text",placeholder:n.linkContent},domProps:{value:n.searchKey},on:{input:function(r){r.target.composing||(n.searchKey=r.target.value)}}}),n._v(" "),e("a",{directives:[{name:"show",rawName:"v-show",value:""!=n.searchKey.trim(),expression:"searchKey.trim()!=''"}],staticClass:"empty-search",attrs:{href:"javascript:;"},on:{click:function(r){n.clearSearch()}}})]),n._v(" "),e("a",{staticClass:"search-btn",attrs:{href:"javascript:;"},on:{click:function(r){n.go1()}}}),n._v(" "),n.responseList.length>0?e("ul",{staticClass:"response-box"},n._l(n.responseList,function(r){return e("li",{attrs:{"track-by":"$index"}},[e("a",{attrs:{href:"javascript:;"},domProps:{innerHTML:n._s(r)},on:{click:function(r){n.go(r)}}})])})):n._e()])]),n._v(" "),e("div",{staticClass:"hot-search"},[e("p",[n._v("热门搜索")]),n._v(" "),e("ul",{staticClass:"hot-items clearfix"},n._l(n.hotSearch,function(r){return e("li",[e("a",{attrs:{href:"javascript:;"},domProps:{innerHTML:n._s(r.linkContent)},on:{click:function(r){n.go(r)}}})])}))]),n._v(" "),e("div",{staticClass:"history"},[e("div",{staticClass:"history-header"},[n._v("\n\t\t\t\t\t历史记录\n\t\t\t\t\t"),e("a",{staticClass:"empty-history",attrs:{href:"javascript:;"},on:{click:function(r){n.removeHistory()}}},[n._v("清空记录")])]),n._v(" "),e("ul",{staticClass:"history-items"},n._l(n.history,function(r){return e("li",[e("a",{attrs:{href:"javascript:;"},domProps:{innerHTML:n._s(r.q)},on:{click:function(r){n.go(r)}}})])}))])])},A=[],c={render:i,staticRenderFns:A},h=c,d=e("/Xao"),m=t,l=d(s,h,!1,m,"data-v-3c019f2a",null);r.default=l.exports},totX:function(n,r,e){r=n.exports=e("BkJT")(!0),r.push([n.i,".search-wrap[data-v-3c019f2a]{position:fixed;z-index:66;width:100%;left:0;top:0;height:3.417rem;border-bottom:1px solid #ebebeb;background-color:#fff}.search-wrap .header-back[data-v-3c019f2a]{position:absolute;top:1rem;left:.875rem;width:1.4rem;height:1.4rem;background:url("+e("iAqf")+") no-repeat 50%/1.3rem 1.3rem}.search-wrap .search-main[data-v-3c019f2a]{position:relative;max-width:640px;margin:0 auto}.search-wrap .search-box[data-v-3c019f2a]{position:absolute;left:3rem;top:.56rem;width:21rem;height:2.292rem;background:#f4f4f4;border-radius:4px}.search-wrap .search[data-v-3c019f2a]{width:80%;margin-top:.4rem;margin-left:1rem;height:1.6rem;line-height:1.6rem;border:none;background:#f4f4f4}.search-wrap .search-btn[data-v-3c019f2a]{float:right;margin-right:.8rem;margin-top:1.2rem;width:1.167rem;height:1.167rem;background:url("+e("fGur")+") no-repeat 0 0;background-size:400px 400px;vertical-align:middle}.search-wrap .response-box[data-v-3c019f2a]{position:absolute;left:0;top:3.417rem;width:100%;background-color:#fff}.search-wrap .response-box li[data-v-3c019f2a]{padding-left:1rem;border-bottom:1px solid #ebebeb}.search-wrap .response-box a[data-v-3c019f2a]{display:block;line-height:2.708rem;color:#000}.search-wrap .empty-search[data-v-3c019f2a]{float:right;margin-top:.5rem;margin-right:1rem;width:1.4rem;height:1.4rem;background:url("+e("fGur")+") no-repeat 0 -3.958rem;background-size:33.333rem 33.333rem}.hot-search[data-v-3c019f2a]{padding:4.417rem 1rem 1rem;background-color:#fff}.hot-search .hot-items li[data-v-3c019f2a]{float:left;margin:10px 10px 0 0}.hot-search .hot-items a[data-v-3c019f2a]{display:block;padding:5px 10px;line-height:1.2rem;background-color:#f1f1f1;color:#3b3b3b;border-radius:3px}.history[data-v-3c019f2a]{margin-top:.708rem;background-color:#fff}.history .history-header[data-v-3c019f2a]{padding:0 1rem;line-height:3.125rem;border-bottom:1px solid #ebebeb}.history .empty-history[data-v-3c019f2a]{float:right;margin-top:.833rem;padding:.208rem .417rem;color:#b3b3b3;line-height:1;border:1px solid #b3b3b3;border-radius:2px}.history .history-items[data-v-3c019f2a]{padding-left:1rem}.history .history-items li[data-v-3c019f2a]{line-height:2.5rem;border-bottom:1px solid #ebebeb}.history .history-items a[data-v-3c019f2a]{display:block;color:#3b3b3b}","",{version:3,sources:["C:/Users/kaifa1/Desktop/vue/11.13/shop/src/pages/goods/search.vue"],names:[],mappings:"AA0NA,8BACI,eAAe,AACf,WAAY,AACZ,WAAY,AACZ,OAAQ,AACR,MAAO,AACP,gBAAgB,AAChB,gCAAiC,AACjC,qBAAuB,CAC1B,AACD,2CACI,kBAAmB,AACnB,SAAU,AACV,aAAe,AACf,aAAc,AACd,cAAe,AACf,oEAAiF,CACpF,AACD,2CACI,kBAAmB,AACnB,gBAAiB,AACjB,aAAe,CAClB,AACD,0CACI,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,iBAAmB,CACtB,AACD,sCACI,UAAW,AACX,iBAAkB,AAClB,iBAAkB,AAClB,cAAe,AACf,mBAAoB,AACpB,YAAY,AACZ,kBAAoB,CACvB,AACD,0CACI,YAAa,AACb,mBAAoB,AACpB,kBAAmB,AACnB,eAAgB,AAChB,gBAAiB,AACjB,uDAAwD,AACxD,4BAA4B,AAC5B,qBAAuB,CAC1B,AACD,4CACI,kBAAmB,AACnB,OAAQ,AACR,aAAc,AACd,WAAY,AACZ,qBAAuB,CAC1B,AACD,+CACI,kBAAmB,AACnB,+BAAiC,CACpC,AACD,8CACI,cAAe,AACf,qBAAsB,AACtB,UAAY,CACf,AACD,4CACI,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,aAAc,AACd,cAAe,AACf,+DAAiE,AACjE,mCAAqC,CACxC,AAID,6BACI,2BAA4B,AAC5B,qBAAuB,CAC1B,AACD,2CACI,WAAY,AACZ,oBAAsB,CACzB,AACD,0CACI,cAAe,AACf,iBAAkB,AAClB,mBAAoB,AACpB,yBAA0B,AAC1B,cAAe,AACf,iBAAmB,CACtB,AAID,0BACI,mBAAqB,AACrB,qBAAuB,CAC1B,AACD,0CACI,eAAgB,AAChB,qBAAsB,AACtB,+BAAiC,CACpC,AACD,yCACI,YAAa,AACb,mBAAqB,AACrB,wBAA2B,AAC3B,cAAe,AACf,cAAe,AACf,yBAAyB,AACzB,iBAAmB,CACtB,AACD,yCACI,iBAAmB,CACtB,AACD,4CACI,mBAAoB,AACpB,+BAAiC,CACpC,AACD,2CACI,cAAe,AACf,aAAe,CAClB",file:"search.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/*搜索框开始*/\n.search-wrap[data-v-3c019f2a] {\r\n    position:fixed;\r\n    z-index: 66;\r\n    width: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    height:3.417rem;\r\n    border-bottom: 1px solid #ebebeb;\r\n    background-color: #fff;\n}\n.search-wrap .header-back[data-v-3c019f2a] {\r\n    position: absolute;\r\n    top: 1rem;\r\n    left: 0.875rem;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    background: url(../../m-images/header-back.png) no-repeat center / 1.3rem 1.3rem;\n}\n.search-wrap .search-main[data-v-3c019f2a] {\r\n    position: relative;\r\n    max-width: 640px;\r\n    margin: 0 auto;\n}\n.search-wrap .search-box[data-v-3c019f2a] {\r\n    position: absolute;\r\n    left: 3rem;\r\n    top: .56rem;\r\n    width: 21rem;\r\n    height: 2.292rem;\r\n    background: #f4f4f4;\r\n    border-radius: 4px;\n}\n.search-wrap .search[data-v-3c019f2a] {\r\n    width: 80%;\r\n    margin-top: .4rem;\r\n    margin-left: 1rem;\r\n    height: 1.6rem;\r\n    line-height: 1.6rem;\r\n    border:none;\r\n    background: #f4f4f4;\n}\n.search-wrap .search-btn[data-v-3c019f2a] {\r\n    float: right;\r\n    margin-right: .8rem;\r\n    margin-top: 1.2rem;\r\n    width: 1.167rem;\r\n    height: 1.167rem;\r\n    background: url(../../m-images/icon2.png) no-repeat 0 0;\r\n    background-size:400px 400px;\r\n    vertical-align: middle;\n}\n.search-wrap .response-box[data-v-3c019f2a] {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 3.417rem;\r\n    width: 100%;\r\n    background-color: #fff;\n}\n.search-wrap .response-box li[data-v-3c019f2a] {\r\n    padding-left: 1rem;\r\n    border-bottom: 1px solid #ebebeb;\n}\n.search-wrap .response-box a[data-v-3c019f2a] {\r\n    display: block;\r\n    line-height: 2.708rem;\r\n    color: #000;\n}\n.search-wrap .empty-search[data-v-3c019f2a] {\r\n    float: right;\r\n    margin-top: .5rem;\r\n    margin-right: 1rem;\r\n    width: 1.4rem;\r\n    height: 1.4rem;\r\n    background:  url(../../m-images/icon2.png) no-repeat 0 -3.958rem;\r\n    background-size: 33.333rem 33.333rem;\n}\r\n/*搜索框结束*/\r\n\r\n/*热门搜索开始*/\n.hot-search[data-v-3c019f2a] {\r\n    padding: 4.417rem 1rem 1rem;\r\n    background-color: #fff;\n}\n.hot-search .hot-items li[data-v-3c019f2a] {\r\n    float: left;\r\n    margin: 10px 10px 0 0;\n}\n.hot-search .hot-items a[data-v-3c019f2a] {\r\n    display: block;\r\n    padding: 5px 10px;\r\n    line-height: 1.2rem;\r\n    background-color: #f1f1f1;\r\n    color: #3b3b3b;\r\n    border-radius: 3px;\n}\r\n/*热门搜索结束*/\r\n\r\n/*历史记录开始*/\n.history[data-v-3c019f2a] {\r\n    margin-top: 0.708rem;\r\n    background-color: #fff;\n}\n.history .history-header[data-v-3c019f2a] {\r\n    padding: 0 1rem;\r\n    line-height: 3.125rem;\r\n    border-bottom: 1px solid #ebebeb;\n}\n.history .empty-history[data-v-3c019f2a] {\r\n    float: right;\r\n    margin-top: 0.833rem;\r\n    padding: 0.208rem 0.417rem;\r\n    color: #b3b3b3;\r\n    line-height: 1;\r\n    border:1px solid #b3b3b3;\r\n    border-radius: 2px;\n}\n.history .history-items[data-v-3c019f2a] {\r\n    padding-left: 1rem;\n}\n.history .history-items li[data-v-3c019f2a] {\r\n    line-height: 2.5rem;\r\n    border-bottom: 1px solid #ebebeb;\n}\n.history .history-items a[data-v-3c019f2a] {\r\n    display: block;\r\n    color: #3b3b3b;\n}\r\n/*历史记录结束*/\r\n"],sourceRoot:""}])}});
//# sourceMappingURL=7.c17d53b45ca421cc14fe.js.map